<div class="container mt-4">
  <h5 class="fw-bold mb-4">
    <i class="bi bi-calendar-plus"></i> Tạo mới sự kiện
  </h5>
  <%= form_with model: @event, url: event_index_path, local: true do |f| %>
    <div class="row">
      <!-- Cột hình ảnh -->
      <div class="col-md-3">
        <div class="mb-3">
          <%= f.label :image, "Hình ảnh sự kiện (PNG)", class: "form-label" %>
          <%= f.file_field :image, class: "form-control", onchange: "previewImage(event)" %>
        </div>
        <div class="mb-3">
          <label class="form-label">Xem trước hình ảnh:</label>
          <img id="imagePreview" src="#" alt="Hình ảnh sự kiện" class="img-fluid border d-none" />
        </div>
      </div>

      <!-- Cột thông tin -->
      <div class="col-md-9">
        <div class="mb-3">
          <%= f.label :name, "Tên sự kiện *", class: "form-label" %>
          <%= f.text_field :name, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :start_time, "Bắt đầu", class: "form-label" %>
          <%= f.datetime_select :start_time, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :end_time, "Kết thúc", class: "form-label" %>
          <%= f.datetime_select :end_time, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :location, "Địa chỉ", class: "form-label" %>
          <%= f.text_field :location, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :description, "Mô tả sự kiện", class: "form-label" %>
          <%= f.text_area :description, class: "form-control", rows: 5 %>
        </div>

        <div class="text-end">
          <%= f.submit "Xác nhận", class: "btn btn-primary" %>
        </div>
      </div>
    </div>
  <% end %>
</div>

<script>
    function previewImage(event) {
        const reader = new FileReader();
        reader.onload = function() {
            const preview = document.getElementById('imagePreview');
            preview.src = reader.result;
            preview.classList.remove('d-none');
        };
        reader.readAsDataURL(event.target.files[0]);
    }
</script>