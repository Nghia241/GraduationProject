<nav class="navbar navbar-dark bg-dark">
  <div class="container-fluid">
    <!-- Logo hoặc tiêu đề -->
    <a class="navbar-brand d-block d-md-none vw-100 text-center" href="#">
      <i class="bi bi-speedometer2 me-2"></i>Hệ Thống Quản Lý Sự Kiện Nội Bộ
    </a>
    <a class="navbar-brand d-none d-md-block" href="#">
      <i class="bi bi-speedometer2 me-2"></i>Hệ Thống Quản Lý Sự Kiện Nội Bộ
    </a>
    <!-- Phần bên phải của navbar -->
    <div class="d-flex d-md-none w-100 justify-content-center align-items-center">
      <span class="navbar-text text-white me-3">
        <i class="bi bi-person-circle me-1"></i>Xin chào <%= current_user.name if defined?(current_user) %>
      </span>
      <!-- Nút toggle cho menu trên mobile -->
      <button class="navbar-toggler d-md-none" type="button" data-bs-toggle="collapse" data-bs-target="#mobileMenu" aria-controls="mobileMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>
    <div class="d-flex d-none d-md-block">
      <span class="navbar-text text-white me-3">
        <i class="bi bi-person-circle me-1"></i>Xin chào <%= current_user.name if defined?(current_user) %>
      </span>
    </div>
  </div>

  <!-- Menu sidebar trên mobile (dùng collapse) -->
  <div class="collapse d-md-none bg-dark w-100" id="mobileMenu">
    <ul class="nav nav-pills flex-column p-3">
      <% if current_user.system_role_id == 1 %>
        <li class="nav-item">
          <%= link_to home_index_path, class: "nav-link text-white #{active_class(home_index_path)}" do %>
            <i class="bi bi-house-fill me-2"></i>Tổng quan
          <% end %>
        </li>
        <li class="nav-item">
          <%= link_to event_index_path, class: "nav-link text-white #{active_class(event_index_path)}" do %>
            <i class="bi bi-calendar-event-fill me-2"></i>Quản lý sự kiện
          <% end %>
        </li>
      <% end %>
      <% if current_user.system_role_id == 3 || current_user.system_role_id == 2 %>
        <li class="nav-item">
          <%= link_to event_details_event_index_path, class: "nav-link text-white #{active_class(event_details_event_index_path)}" do %>
            <i class="bi bi-calendar2-check-fill me-2"></i>Quản lý sự kiện cá nhân
          <% end %>
        </li>
      <% end %>
      <li>
        <%= link_to profile_path, class: "nav-link text-white #{active_class(profile_path)}" do %>
          <i class="bi bi-person-fill me-2"></i>Tài khoản
        <% end %>
      </li>
      <% if current_user.system_role_id == 1 %>
        <li>
          <%= link_to role_manager_users_path, class: "nav-link text-white #{active_class(role_manager_users_path)}" do %>
            <i class="bi bi-shield-lock-fill me-2"></i>Quản lý thẩm quyền
          <% end %>
        </li>
      <% end %>
      <li>
        <%= link_to destroy_user_session_path, method: :delete, class: 'nav-link text-danger' do %>
          <i class="bi bi-box-arrow-right me-2"></i>Đăng xuất
        <% end %>
      </li>
    </ul>
  </div>
</nav>